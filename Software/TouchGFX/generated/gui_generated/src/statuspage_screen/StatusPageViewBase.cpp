/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/statuspage_screen/StatusPageViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>
#include <touchgfx/canvas_widget_renderer/CanvasWidgetRenderer.hpp>


StatusPageViewBase::StatusPageViewBase() :
    buttonCallback(this, &StatusPageViewBase::buttonCallbackHandler)
{

    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);

    __background.setPosition(0, 0, 240, 320);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));

    Background.setXY(0, 0);
    Background.setBitmap(touchgfx::Bitmap(BITMAP_BACKGROUND_CLKGRD_ID));

    Odometer_Text.setXY(5, 80);
    Odometer_Text.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    Odometer_Text.setLinespacing(0);
    Odometer_Text.setTypedText(touchgfx::TypedText(T___SINGLEUSE_X3RZ));

    textArea1_1.setXY(4, 86);
    textArea1_1.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    textArea1_1.setLinespacing(0);
    textArea1_1.setTypedText(touchgfx::TypedText(T___SINGLEUSE_LB3X));

    debugModeText.setXY(4, 140);
    debugModeText.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    debugModeText.setLinespacing(0);
    debugModeText.setTypedText(touchgfx::TypedText(T___SINGLEUSE_JXJ0));

    activeInsulinText.setXY(5, 110);
    activeInsulinText.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    activeInsulinText.setLinespacing(0);
    activeInsulinText.setTypedText(touchgfx::TypedText(T___SINGLEUSE_RAGM));

    FirmwareVer_Text.setXY(4, 170);
    FirmwareVer_Text.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    FirmwareVer_Text.setLinespacing(0);
    FirmwareVer_Text.setTypedText(touchgfx::TypedText(T___SINGLEUSE_4DV2));

    bgVal.setXY(185, 80);
    bgVal.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    bgVal.setLinespacing(0);
    Unicode::snprintf(bgValBuffer, BGVAL_SIZE, "%s", touchgfx::TypedText(T_BG_VAL_WC).getText());
    bgVal.setWildcard(bgValBuffer);
    bgVal.resizeToCurrentText();
    bgVal.setTypedText(touchgfx::TypedText(T_BGVAL));

    bgText.setXY(209, 84);
    bgText.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    bgText.setLinespacing(0);
    bgText.setTypedText(touchgfx::TypedText(T___SINGLEUSE_CNYY));

    debugModeVal.setXY(152, 140);
    debugModeVal.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    debugModeVal.setLinespacing(0);
    Unicode::snprintf(debugModeValBuffer, DEBUGMODEVAL_SIZE, "%s", touchgfx::TypedText(T_VIN).getText());
    debugModeVal.setWildcard(debugModeValBuffer);
    debugModeVal.resizeToCurrentText();
    debugModeVal.setTypedText(touchgfx::TypedText(T_VIN_VAL));

    FirmwareVer_Val.setXY(202, 170);
    FirmwareVer_Val.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    FirmwareVer_Val.setLinespacing(0);
    Unicode::snprintf(FirmwareVer_ValBuffer, FIRMWAREVER_VAL_SIZE, "%s", touchgfx::TypedText(T_FIRMWAREVER_VAL).getText());
    FirmwareVer_Val.setWildcard(FirmwareVer_ValBuffer);
    FirmwareVer_Val.resizeToCurrentText();
    FirmwareVer_Val.setTypedText(touchgfx::TypedText(T_FIRMVER_VAL));

    activeInsulinVal.setXY(174, 110);
    activeInsulinVal.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    activeInsulinVal.setLinespacing(0);
    Unicode::snprintf(activeInsulinValBuffer, ACTIVEINSULINVAL_SIZE, "%s", touchgfx::TypedText(T_ACTIVE_INSULIN_WC).getText());
    activeInsulinVal.setWildcard(activeInsulinValBuffer);
    activeInsulinVal.resizeToCurrentText();
    activeInsulinVal.setTypedText(touchgfx::TypedText(T_ACTIVEINSULINVAL));

    Credits_Button.setXY(20, 270);
    Credits_Button.setBitmaps(touchgfx::Bitmap(BITMAP_SOLASECINLINEWHITE_25X200_ID), touchgfx::Bitmap(BITMAP_SOLASECINLINEWHITE_25X200_ID));
    Credits_Button.setAction(buttonCallback);

    line1.setPosition(4, 242, 265, 5);
    line1Painter.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    line1.setPainter(line1Painter);
    line1.setStart(5, 5);
    line1.setEnd(225, 5);
    line1.setLineWidth(3);
    line1.setLineEndingStyle(touchgfx::Line::ROUND_CAP_ENDING);

    titleBackground.setPosition(0, 0, 240, 64);
    titleBackground.setAlpha(42);
    titleBackground.setOrigin(0.000f, 0.000f);
    titleBackground.setScale(1.000f, 1.000f);
    titleBackground.setAngle(0.000f);
    titleBackgroundPainter.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    titleBackground.setPainter(titleBackgroundPainter);
    const touchgfx::AbstractShape::ShapePoint<float> titleBackgroundPoints[4] = { { 0.000f, 0.000f }, { 300.000f, 0.000f }, { 300.000f, 75.000f }, { 0.000f, 75.000f } };
    titleBackground.setShape(titleBackgroundPoints);

    SPI_FLAG.setXY(4, 207);
    SPI_FLAG.setColor(touchgfx::Color::getColorFromRGB(255, 0, 0));
    SPI_FLAG.setLinespacing(0);
    Unicode::snprintf(SPI_FLAGBuffer, SPI_FLAG_SIZE, "%s", touchgfx::TypedText(T_SPI_FLAG_WC).getText());
    SPI_FLAG.setWildcard(SPI_FLAGBuffer);
    SPI_FLAG.resizeToCurrentText();
    SPI_FLAG.setTypedText(touchgfx::TypedText(T_SPI_FLAG));

    backButton_toMainScreen1.setXY(4, 16);

    manufactureButtonScreen1.setXY(176, 0);

    add(__background);
    add(Background);
    add(Odometer_Text);
    add(textArea1_1);
    add(debugModeText);
    add(activeInsulinText);
    add(FirmwareVer_Text);
    add(bgVal);
    add(bgText);
    add(debugModeVal);
    add(FirmwareVer_Val);
    add(activeInsulinVal);
    add(Credits_Button);
    add(line1);
    add(titleBackground);
    add(SPI_FLAG);
    add(backButton_toMainScreen1);
    add(manufactureButtonScreen1);
}

void StatusPageViewBase::setupScreen()
{
    backButton_toMainScreen1.initialize();
    manufactureButtonScreen1.initialize();
}

void StatusPageViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &Credits_Button)
    {
        //toCreditsFromStatus
        //When Credits_Button clicked change screen to CreditsPage
        //Go to CreditsPage with screen transition towards East
        application().gotoCreditsPageScreenSlideTransitionEast();
    }
}
